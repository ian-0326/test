<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>K-TRIP MATE Prototype</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    /* -----------------------
       åŸºæœ¬ Theme è®Šæ•¸ï¼ˆå¥¶èŒ¶æ²–ç¹©ï¼‰
    ------------------------ */
    :root {
      --bg: #f8f3ec;
      --card-bg: #ffffff;
      --primary: #3f2b24;
      --accent: #f3c979;
      --accent-soft: #fff4d9;
      --text-main: #2e2a28;
      --text-sub: #a8a098;
      --border-soft: #eee1d0;
      --shadow-soft: 0 8px 18px rgba(0, 0, 0, 0.06);
      --radius-card: 18px;
      --radius-pill: 999px;
      --radius-btn: 30px;
    }

    /* ä¸»é¡Œï¼šé¦–çˆ¾æ«»èŠ± */
    :root[data-theme="sakura"] {
      --bg: #fff7fa;
      --card-bg: #ffffff;
      --primary: #e488a7;
      --accent: #f6c3d6;
      --accent-soft: #ffe5f0;
      --text-main: #3a2a33;
      --text-sub: #b29aa8;
      --border-soft: #f2ccde;
      --shadow-soft: 0 8px 18px rgba(228, 136, 167, 0.18);
    }

    /* ä¸»é¡Œï¼šæ¼¢æ±Ÿå¤œæ™¯ï¼ˆæ·±è‰²ï¼‰ */
    :root[data-theme="night"] {
      --bg: #191a1f;
      --card-bg: #23242b;
      --primary: #ffd369;
      --accent: #3f8ae0;
      --accent-soft: #2e3242;
      --text-main: #f5f5f5;
      --text-sub: #9b9da5;
      --border-soft: #2d3040;
      --shadow-soft: 0 8px 20px rgba(0, 0, 0, 0.6);
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Noto Sans TC", system-ui, sans-serif;
      background: var(--bg);
      color: var(--text-main);
      display: flex;
      justify-content: center;
    }

    .app {
      width: 100%;
      max-width: 480px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* -----------------------
       Header + ä¸Šæ–¹åˆ†é 
    ------------------------ */
    .app-header {
      padding: 10px 18px 4px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(18px);
      background: color-mix(in srgb, var(--bg) 90%, transparent);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .brand-logo {
      font-size: 18px;
    }

    .brand-title {
      font-size: 18px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
    }

    .header-right {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .status-pill {
      border-radius: 999px;
      padding: 4px 8px;
      font-size: 11px;
      background: #e6f7e9;
      color: #1f9b44;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .status-pill span {
      font-size: 13px;
    }

    .icon-btn {
      border: none;
      background: var(--card-bg);
      border-radius: 999px;
      padding: 5px 9px;
      box-shadow: var(--shadow-soft);
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 12px;
      color: var(--text-main);
    }

    .icon-btn span {
      font-size: 15px;
    }

    /* ä¸Šæ–¹åˆ†é  */
    .top-tabs {
      display: flex;
      justify-content: center;
      gap: 28px;
      font-size: 13px;
      padding: 6px 0 4px;
      border-bottom: 1px solid color-mix(in srgb, var(--border-soft) 80%, transparent);
      background: color-mix(in srgb, var(--bg) 92%, transparent);
      position: sticky;
      top: 46px;
      z-index: 9;
    }

    .top-tab {
      padding-bottom: 6px;
      position: relative;
      color: var(--text-sub);
      cursor: pointer;
    }

    .top-tab.active {
      color: var(--text-main);
      font-weight: 600;
    }

    .top-tab.active::after {
      content: "";
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: 0;
      width: 28px;
      height: 2px;
      border-radius: 999px;
      background: var(--primary);
    }

    /* -----------------------
       ä¸»å…§å®¹ & å¡ç‰‡é€šç”¨
    ------------------------ */
    main {
      flex: 1;
      padding: 12px 16px 24px;
    }

    .page {
      display: none;
      animation: fadeIn 0.18s ease-out;
    }

    .page.active {
      display: block;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-card);
      padding: 14px 16px;
      margin: 8px 0;
      box-shadow: var(--shadow-soft);
      border: 1px solid color-mix(in srgb, var(--border-soft) 80%, transparent);
    }

    .sub-text {
      font-size: 12px;
      color: var(--text-sub);
    }

    .btn-primary {
      border-radius: var(--radius-btn);
      border: none;
      background: var(--primary);
      color: #fff;
      padding: 10px 18px;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      box-shadow: var(--shadow-soft);
    }

    .btn-ghost {
      border-radius: var(--radius-btn);
      border: 1px solid var(--border-soft);
      background: transparent;
      padding: 8px 14px;
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--text-main);
    }

    .pill-outline {
      border-radius: var(--radius-pill);
      border: 1px solid var(--border-soft);
      padding: 6px 10px;
      font-size: 12px;
      background: color-mix(in srgb, var(--card-bg) 85%, transparent);
      color: var(--text-main);
    }

    .pill-outline.active {
      border-color: var(--accent);
      background: var(--accent-soft);
      color: var(--primary);
      font-weight: 600;
    }

    /* -----------------------
       é¦–é ï¼šåŒ¯ç‡è©¦ç®—
    ------------------------ */
    .rate-title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .rate-title-left {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
    }

    /* è¨ˆç®—æ©Ÿå° icon */
    .rate-icon.icon-calc {
      width: 22px;
      height: 22px;
      border-radius: 6px;
      border: 1px solid var(--border-soft);
      position: relative;
      background: color-mix(in srgb, var(--card-bg) 92%, transparent);
    }
    .rate-icon.icon-calc::before,
    .rate-icon.icon-calc::after {
      content: "";
      position: absolute;
      left: 4px;
      right: 4px;
      border-top: 1px solid color-mix(in srgb, var(--border-soft) 90%, transparent);
    }
    .rate-icon.icon-calc::before {
      top: 7px;   /* é¡¯ç¤ºè¢å¹•ç·š */
    }
    .rate-icon.icon-calc::after {
      bottom: 6px; /* é¡¯ç¤ºæŒ‰éµç·š */
    }

    .rate-body {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 4px 0 8px;
    }

    .rate-col {
      flex: 1;
    }

    .rate-label {
      font-size: 11px;
      color: var(--text-sub);
      margin-bottom: 2px;
    }

    .rate-equal {
      width: 40px;
      text-align: center;
      font-size: 20px;
      color: var(--text-sub);
    }

    .rate-line {
      margin-top: 4px;
      height: 1px;
      width: 100%;
      background: color-mix(in srgb, var(--border-soft) 80%, transparent);
    }

    .rate-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 8px;
      font-size: 12px;
    }

    .rate-input-field {
      width: 100%;
      border: none;
      outline: none;
      background: transparent;
      font-size: 24px;
      color: var(--text-main);
      padding: 4px 0;
    }
    .rate-input-field::-webkit-outer-spin-button,
    .rate-input-field::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    .rate-input-right {
      text-align: right;
    }

    /* -----------------------
       é¦–é ï¼šä¸€é€±å¤©æ°£å¡
    ------------------------ */
    .weather-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      font-size: 13px;
    }

    .weather-row {
      display: flex;
      justify-content: space-between;
      text-align: center;
      font-size: 12px;
    }

    .weather-day {
      flex: 1;
    }

    .weather-icon {
      font-size: 18px;
      margin-bottom: 2px;
    }

    .weather-temp {
      margin-top: 2px;
      font-size: 13px;
    }

    /* -----------------------
       é¦–é ï¼šå…¥å¢ƒ/è‡ªé§•æ¨¡å¼ Segment
    ------------------------ */
    .segment-wrap {
      margin-top: 12px;
      display: flex;
      justify-content: center;
    }

    .segment {
      background: var(--card-bg);
      border-radius: 999px;
      box-shadow: var(--shadow-soft);
      border: 1px solid color-mix(in srgb, var(--border-soft) 80%, transparent);
      display: flex;
      overflow: hidden;
      width: 100%;
      max-width: 360px;
    }

    .segment-btn {
      flex: 1;
      border: none;
      padding: 10px 8px;
      font-size: 13px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      background: transparent;
      color: var(--text-sub);
    }

    .segment-btn.active {
      background: var(--primary);
      color: #fff;
      font-weight: 600;
    }

    /* -----------------------
       é¦–é ï¼šVisit Japan Web å¡
    ------------------------ */
    .vjw-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      font-size: 14px;
    }

    .vjw-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .qr-box {
      width: 26px;
      height: 26px;
      border-radius: 6px;
      border: 1px solid var(--border-soft);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
    }

    .vjw-members {
      display: flex;
      gap: 6px;
    }

    .vjw-pill {
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 12px;
      border: 1px solid var(--border-soft);
      background: color-mix(in srgb, var(--card-bg) 90%, transparent);
      color: var(--text-sub);
    }

    .vjw-pill.active {
      background: var(--accent-soft);
      border-color: var(--accent);
      color: var(--primary);
      font-weight: 600;
    }

    .vjw-placeholder {
      border-radius: 14px;
      border: 1px dashed var(--border-soft);
      height: 110px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      color: var(--text-sub);
      background: color-mix(in srgb, var(--bg) 70%, transparent);
    }

    /* -----------------------
       å…¶ä»–åˆ†é æ²¿ç”¨ç°¡ç‰ˆæ¨£å¼
    ------------------------ */
    .section-title {
      font-size: 14px;
      margin: 6px 4px 4px;
      color: var(--text-sub);
    }

    .date-strip {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      padding-bottom: 4px;
      margin: 4px 0 10px;
    }

    .date-pill {
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 12px;
      border: 1px solid var(--border-soft);
      background: color-mix(in srgb, var(--card-bg) 85%, transparent);
      color: var(--text-main);
      white-space: nowrap;
    }

    .date-pill.active {
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
      font-weight: 600;
    }

    .tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin: 6px 0 10px;
    }

    .tag {
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      padding: 4px 8px;
      font-size: 11px;
      color: var(--text-sub);
    }

    .card-actions-row {
      display: flex;
      gap: 8px;
      margin-top: 4px;
    }

    .chip-grid {
      display: flex;
      gap: 8px;
      margin: 8px 0 4px;
      flex-wrap: wrap;
    }

    .chip-icon {
      flex: 1;
      min-width: 70px;
      text-align: center;
      padding: 8px 4px;
      border-radius: 14px;
      border: 1px solid var(--border-soft);
      font-size: 11px;
      color: var(--text-sub);
      background: color-mix(in srgb, var(--card-bg) 85%, transparent);
    }

    .chip-icon.active {
      border-color: var(--accent);
      background: var(--accent-soft);
      color: var(--primary);
      font-weight: 600;
    }

    .input-row {
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .input-label {
      font-size: 11px;
      color: var(--text-sub);
    }

    .input-field {
      border-radius: 12px;
      border: 1px solid var(--border-soft);
      padding: 8px 10px;
      font-size: 13px;
      width: 100%;
      background: color-mix(in srgb, var(--card-bg) 90%, transparent);
      color: var(--text-main);
    }

    .two-col {
      display: flex;
      gap: 8px;
      margin-top: 8px;
    }

    .pill-row {
      display: flex;
      gap: 8px;
      margin-top: 4px;
      flex-wrap: wrap;
    }

    .summary-bar {
      margin-top: 10px;
      border-radius: 12px;
      padding: 8px 10px;
      font-size: 12px;
      background: var(--accent-soft);
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .summary-bar span {
      font-size: 16px;
    }

    .record-list {
      margin-top: 10px;
    }

    .record-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 2px;
      border-bottom: 1px dashed var(--border-soft);
      font-size: 13px;
    }

    .record-meta {
      font-size: 11px;
      color: var(--text-sub);
    }

    .progress-track {
      width: 100%;
      height: 6px;
      border-radius: 999px;
      background: color-mix(in srgb, var(--border-soft) 60%, transparent);
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      width: 72%;
      background: var(--accent);
    }

    .group-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
      margin-bottom: 6px;
    }

    .checklist {
      margin-top: 4px;
      font-size: 13px;
    }

    .check-item {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 4px 0;
    }

    .check-item input {
      width: 16px;
      height: 16px;
      accent-color: var(--primary);
    }

    /* å‹•ç•« */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(4px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (prefers-color-scheme: dark) {
      :root:not([data-theme]) {
        --bg: #191a1f;
        --card-bg: #23242b;
        --primary: #ffd369;
        --accent: #3f8ae0;
        --accent-soft: #2e3242;
        --text-main: #f5f5f5;
        --text-sub: #9b9da5;
        --border-soft: #2d3040;
        --shadow-soft: 0 8px 20px rgba(0, 0, 0, 0.6);
      }
    }
  </style>
</head>

<body>
  <div class="app">
    <!-- Header -->
    <header class="app-header">
      <div class="brand">
        <div class="brand-logo">ğŸŒ´</div>
        <div class="brand-title">K-TRIP</div>
      </div>
      <div class="header-right">
        <div class="status-pill">
          <span>âœ…</span> å·²å„²å­˜
        </div>
        <button class="icon-btn" id="themeBtn">
          <span>ğŸ¨</span> ä¸»é¡Œ
        </button>
      </div>
    </header>

    <!-- ä¸Šæ–¹åˆ†é  -->
    <div class="top-tabs">
      <div class="top-tab active" data-tab="home">é¦–é </div>
      <div class="top-tab" data-tab="trip">è¡Œç¨‹</div>
      <div class="top-tab" data-tab="money">è¨˜å¸³</div>
      <div class="top-tab" data-tab="list">æ¸…å–®</div>
    </div>

    <main>
      <!-- é¦–é  Page -->
      <section class="page active" id="page-home">
        <!-- åŒ¯ç‡è©¦ç®—å¡ï¼ˆKRW â†” TWDï¼‰ -->
        <div class="card">
          <div class="rate-title-row">
            <div class="rate-title-left">
              <div class="rate-icon icon-calc"></div>
              <span>åŒ¯ç‡è©¦ç®—</span>
            </div>
            <button class="pill-outline" id="refreshRateBtn" style="font-size:11px;">
              é‡æ–°æŠ“åŒ¯ç‡
            </button>
          </div>

          <div class="rate-body">
            <!-- éŸ“å¹£ -->
            <div class="rate-col">
              <div class="rate-label">KRW éŸ“å¹£</div>
              <input
                id="krwInput"
                class="rate-input-field"
                type="number"
                inputmode="decimal"
                placeholder="0"
              />
              <div class="rate-line"></div>
            </div>

            <div class="rate-equal">ï¼</div>

            <!-- å°å¹£ -->
            <div class="rate-col" style="text-align:right;">
              <div class="rate-label">TWD å°å¹£</div>
              <input
                id="twdInput"
                class="rate-input-field rate-input-right"
                type="number"
                inputmode="decimal"
                placeholder="0"
              />
              <div class="rate-line"></div>
            </div>
          </div>

          <div class="rate-footer">
            <div class="sub-text" id="rateText">åŒ¯ç‡è¼‰å…¥ä¸­â€¦</div>
            <button class="pill-outline" style="font-size:11px;">
              å·® â‚©5500 å…ç¨…ï¼ˆç¤ºæ„ï¼‰
            </button>
          </div>
        </div>

        <!-- ä¸€é€±å¤©æ°£ -->
        <div class="card">
          <div class="weather-header">
            <div>æ²–ç¹©ä¸€é€±å¤©æ°£</div>
            <div class="sub-text">Naha, JP</div>
          </div>
          <div class="weather-row">
            <div class="weather-day">
              <div>Sat</div>
              <div class="weather-icon">â˜€ï¸</div>
              <div class="weather-temp">22Â°</div>
            </div>
            <div class="weather-day">
              <div>Sun</div>
              <div class="weather-icon">â›…ï¸</div>
              <div class="weather-temp">20Â°</div>
            </div>
            <div class="weather-day">
              <div>Mon</div>
              <div class="weather-icon">â˜€ï¸</div>
              <div class="weather-temp">23Â°</div>
            </div>
            <div class="weather-day">
              <div>Tue</div>
              <div class="weather-icon">â›…ï¸</div>
              <div class="weather-temp">24Â°</div>
            </div>
            <div class="weather-day">
              <div>Wed</div>
              <div class="weather-icon">â˜€ï¸</div>
              <div class="weather-temp">25Â°</div>
            </div>
          </div>
        </div>

        <!-- æ¨¡å¼åˆ‡æ›ï¼šå…¥å¢ƒ / è‡ªé§• -->
        <div class="segment-wrap">
          <div class="segment">
            <button class="segment-btn active">
              âœˆï¸ å…¥å¢ƒæ¨¡å¼
            </button>
            <button class="segment-btn">
              ğŸš— è‡ªé§•æ¨¡å¼
            </button>
          </div>
        </div>

        <!-- Visit Japan Web å¡ -->
        <div class="card">
          <div class="vjw-header">
            <div class="vjw-left">
              <div class="qr-box">â–£</div>
              <div>Visit Japan Web</div>
            </div>
            <div class="vjw-members">
              <div class="vjw-pill">å°æœ±</div>
              <div class="vjw-pill active">ç°¡å“¥</div>
            </div>
          </div>
          <div class="vjw-placeholder">
            é€™è£¡å¯ä»¥æ”¾ QR Code æˆ–æˆªåœ–ï¼ˆç¯„ä¾‹ï¼‰
          </div>
        </div>
      </section>

      <!-- è¡Œç¨‹ Page -->
      <section class="page" id="page-trip">
        <div class="section-title">æ—¥æœŸ</div>
        <div class="date-strip">
          <button class="date-pill active">D1 Â· 11/20</button>
          <button class="date-pill">D2 Â· 11/21</button>
          <button class="date-pill">D3 Â· 11/22</button>
          <button class="date-pill">D4 Â· 11/23</button>
        </div>

        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:baseline;">
            <div>
              <div class="sub-text">09:00 - 11:00</div>
              <div>å—å±±å¡”æ•£æ­¥</div>
            </div>
            <div class="sub-text">é¦–çˆ¾å¸‚ä¸­å€</div>
          </div>
          <div class="tag-row">
            <div class="tag">è‡ªé§•</div>
            <div class="tag">å« MapCode</div>
            <div class="tag">é©åˆæ‹ç…§</div>
          </div>
          <div class="card-actions-row">
            <button class="btn-primary">å°èˆª</button>
            <button class="btn-ghost">æé†’ï¼šå‡ºç™¼å‰ 5 åˆ†é˜</button>
          </div>
        </div>

        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:baseline;">
            <div>
              <div class="sub-text">12:30 - 14:00</div>
              <div>æ¢¨æ³°é™¢åˆé¤</div>
            </div>
            <div class="sub-text">éŸ“ç‰›çƒ¤è‚‰</div>
          </div>
          <div class="tag-row">
            <div class="tag">åœ°éµ</div>
            <div class="tag">ç¾é£Ÿ</div>
          </div>
          <div class="card-actions-row">
            <button class="btn-primary">å°èˆª</button>
            <button class="btn-ghost">æé†’ï¼šå‡ºç™¼å‰ 10 åˆ†é˜</button>
          </div>
        </div>
      </section>

      <!-- è¨˜å¸³ Page -->
      <section class="page" id="page-money">
        <div class="section-title">æ–°å¢è¨˜éŒ„</div>
        <div class="card">
          <div class="sub-text">åˆ†é¡</div>
          <div class="chip-grid">
            <div class="chip-icon active">ğŸ™ é¤é£²</div>
            <div class="chip-icon">ğŸš† äº¤é€š</div>
            <div class="chip-icon">ğŸ›ï¸ è³¼ç‰©</div>
            <div class="chip-icon">ğŸŸï¸ é–€ç¥¨</div>
            <div class="chip-icon">ğŸ¨ ä½å®¿</div>
            <div class="chip-icon">â‹¯ å…¶ä»–</div>
          </div>

          <div class="two-col">
            <div style="flex: 1;">
              <div class="input-label">å¹£åˆ¥</div>
              <div class="pill-row">
                <button class="pill-outline active">KRW</button>
                <button class="pill-outline">TWD</button>
                <button class="pill-outline">JPY</button>
              </div>
            </div>
            <div style="flex: 1;">
              <div class="input-label">ä»˜æ¬¾äºº</div>
              <div class="pill-row">
                <button class="pill-outline active">æˆ‘</button>
                <button class="pill-outline">ç”·å‹</button>
                <button class="pill-outline">å…¬è²»</button>
              </div>
            </div>
          </div>

          <div class="input-row">
            <div class="input-label">é‡‘é¡</div>
            <input class="input-field" placeholder="è¼¸å…¥é‡‘é¡ï¼ˆä¾‹å¦‚ 48,000ï¼‰" />
            <div class="sub-text">ç´„ NT$ 1,176ï¼ˆåƒ…ä¾›åƒè€ƒï¼‰</div>
          </div>

          <div class="input-row">
            <div class="input-label">å‚™è¨»</div>
            <input class="input-field" placeholder="ä¾‹å¦‚ï¼šå¼˜å¤§çƒ¤è‚‰" />
          </div>

          <div class="input-row">
            <div class="input-label">åˆ†æ”¤æ–¹å¼</div>
            <div class="two-col">
              <button class="pill-outline active" style="flex: 1;">å…±åŒåˆ†æ”¤</button>
              <button class="pill-outline" style="flex: 1;">å€‹äººè‡ªä»˜</button>
            </div>
          </div>

          <div class="summary-bar">
            <span>ğŸ§®</span>
            ä»Šæ—¥ç´¯è¨ˆï¼šç°¡å“¥éœ€çµ¦ä½  â‚© 35,810ï¼ˆå¹³åˆ†å¾Œå·®é¡ï¼‰
          </div>

          <div style="margin-top: 12px; text-align: right;">
            <button class="btn-primary">æ–°å¢è¨˜éŒ„</button>
          </div>
        </div>
      </section>

      <!-- æ¸…å–® Page -->
      <section class="page" id="page-list">
        <div class="section-title">æ‰“åŒ…é€²åº¦</div>
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <div>
              <div>æ‰“åŒ…å®Œæˆåº¦ 72%</div>
              <div class="sub-text">é‚„æœ‰ 6 ä»¶ç‰©å“å°šæœªå‹¾é¸</div>
            </div>
            <button class="pill-outline">é‡æ–°æ•´ç†</button>
          </div>
          <div style="margin-top:8px;">
            <div class="progress-track">
              <div class="progress-fill"></div>
            </div>
          </div>
        </div>

        <div class="section-title">è¡Œæåˆ†é¡</div>

        <div class="card">
          <div class="group-header">
            <div>ğŸ‘• è¡£ç‰©</div>
            <div class="sub-text">5 / 8</div>
          </div>
          <div class="checklist">
            <label class="check-item">
              <input type="checkbox" checked />
              <span>å¤–å¥—</span>
            </label>
            <label class="check-item">
              <input type="checkbox" checked />
              <span>æ›æ´—ä¸Šè¡£ 3 ä»¶</span>
            </label>
            <label class="check-item">
              <input type="checkbox" checked />
              <span>ç¡è¡£</span>
            </label>
            <label class="check-item">
              <input type="checkbox" />
              <span>å‚™ç”¨è¥ªå­</span>
            </label>
          </div>
        </div>

        <div class="card">
          <div class="group-header">
            <div>ğŸ”Œ 3C & å……é›»</div>
            <div class="sub-text">3 / 5</div>
          </div>
          <div class="checklist">
            <label class="check-item">
              <input type="checkbox" checked />
              <span>æ‰‹æ©Ÿå……é›»ç·š</span>
            </label>
            <label class="check-item">
              <input type="checkbox" checked />
              <span>è¡Œå‹•é›»æº</span>
            </label>
            <label class="check-item">
              <input type="checkbox" />
              <span>ç›¸æ©Ÿé›»æ± </span>
            </label>
            <label class="check-item">
              <input type="checkbox" checked />
              <span>è½‰æ¥é ­</span>
            </label>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // ä¸Šæ–¹åˆ†é åˆ‡æ›
    const tabs = document.querySelectorAll(".top-tab");
    const pages = {
      home: document.getElementById("page-home"),
      trip: document.getElementById("page-trip"),
      money: document.getElementById("page-money"),
      list: document.getElementById("page-list"),
    };

    tabs.forEach((tab) => {
      tab.addEventListener("click", () => {
        const key = tab.dataset.tab;
        tabs.forEach((t) => t.classList.remove("active"));
        tab.classList.add("active");
        Object.values(pages).forEach((p) => p.classList.remove("active"));
        pages[key].classList.add("active");
      });
    });

    // ä¸»é¡Œåˆ‡æ›ï¼šå¥¶èŒ¶ â†’ æ«»èŠ± â†’ å¤œæ™¯
    const themeBtn = document.getElementById("themeBtn");
    const themes = ["okinawa", "sakura", "night"];
    let themeIndex = 0;

    function applyTheme() {
      const themeKey = themes[themeIndex];
      if (themeKey === "okinawa") {
        document.documentElement.removeAttribute("data-theme");
        themeBtn.innerHTML = `<span>ğŸ¨</span> å¥¶èŒ¶`;
      } else if (themeKey === "sakura") {
        document.documentElement.setAttribute("data-theme", "sakura");
        themeBtn.innerHTML = `<span>ğŸŒ¸</span> æ«»èŠ±`;
      } else {
        document.documentElement.setAttribute("data-theme", "night");
        themeBtn.innerHTML = `<span>ğŸŒ™</span> å¤œæ™¯`;
      }
    }

    applyTheme();

    themeBtn.addEventListener("click", () => {
      themeIndex = (themeIndex + 1) % themes.length;
      applyTheme();
    });

    // -----------------------
    // åŒ¯ç‡è©¦ç®—ï¼šKRW â†” TWD
    // ä½¿ç”¨ exchangerate.host API
    // -----------------------
    const krwInput = document.getElementById("krwInput");
    const twdInput = document.getElementById("twdInput");
    const rateText = document.getElementById("rateText");
    const refreshRateBtn = document.getElementById("refreshRateBtn");

    let rateKRWtoTWD = 0.022; // é è¨­å€¼ï¼Œé¿å…è¼‰å…¥å¤±æ•—å®Œå…¨ä¸èƒ½ç®—
    let isUpdating = false;   // é¿å…å…©é‚Šäº’ç›¸è§¸ç™¼é€ æˆè¿´åœˆ

    async function fetchRate() {
      try {
        rateText.textContent = "åŒ¯ç‡è¼‰å…¥ä¸­â€¦";
        const res = await fetch(
          "https://api.exchangerate.host/latest?base=KRW&symbols=TWD"
        );
        const data = await res.json();
        if (data && data.rates && data.rates.TWD) {
          rateKRWtoTWD = data.rates.TWD;
          rateText.textContent =
            "åŒ¯ç‡ï¼šç´„ 1 KRW â‰ˆ " + rateKRWtoTWD.toFixed(4) + " TWD";
          // é‡æ–°è¨ˆç®—ä¸€æ¬¡ï¼ˆå¦‚æœç›®å‰æœ‰è¼¸å…¥ï¼‰
          if (krwInput.value) {
            const v = parseFloat(krwInput.value);
            if (!isNaN(v)) {
              isUpdating = true;
              twdInput.value = (v * rateKRWtoTWD).toFixed(0);
              isUpdating = false;
            }
          } else if (twdInput.value) {
            const v = parseFloat(twdInput.value);
            if (!isNaN(v)) {
              isUpdating = true;
              krwInput.value = (v / rateKRWtoTWD).toFixed(0);
              isUpdating = false;
            }
          }
        } else {
          rateText.textContent = "åŒ¯ç‡è¼‰å…¥å¤±æ•—ï¼Œä½¿ç”¨é è¨­åŒ¯ç‡ã€‚";
        }
      } catch (e) {
        console.error(e);
        rateText.textContent = "åŒ¯ç‡è¼‰å…¥å¤±æ•—ï¼Œä½¿ç”¨é è¨­åŒ¯ç‡ã€‚";
      }
    }

    // é é¢è¼‰å…¥å…ˆæŠ“ä¸€æ¬¡
    fetchRate();

    // æ‰‹å‹•é‡æ–°æŠ“åŒ¯ç‡
    refreshRateBtn.addEventListener("click", fetchRate);

    // ç”±éŸ“å¹£è½‰å°å¹£
    krwInput.addEventListener("input", () => {
      if (isUpdating) return;
      const v = parseFloat(krwInput.value);
      if (isNaN(v)) {
        isUpdating = true;
        twdInput.value = "";
        isUpdating = false;
        return;
      }
      isUpdating = true;
      twdInput.value = (v * rateKRWtoTWD).toFixed(0); // å–æ•´æ•¸
      isUpdating = false;
    });

    // ç”±å°å¹£è½‰éŸ“å¹£
    twdInput.addEventListener("input", () => {
      if (isUpdating) return;
      const v = parseFloat(twdInput.value);
      if (isNaN(v)) {
        isUpdating = true;
        krwInput.value = "";
        isUpdating = false;
        return;
      }
      isUpdating = true;
      krwInput.value = (v / rateKRWtoTWD).toFixed(0);
      isUpdating = false;
    });
  </script>
</body>
</html>
